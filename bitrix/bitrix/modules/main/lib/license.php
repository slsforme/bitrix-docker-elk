<? namespace Bitrix\Main;$GLOBALS['____1262938575']= array(base64_decode('ZmlsZV9'.'le'.'Glzd'.'H'.'M'.'='),base64_decode('c3RydG91cHBlcg='.'='),base64_decode('bWQ1'),base64_decode('bW'.'Q1'),base64_decode('aW5f'.'Y'.'XJy'.'YXk'.'='),base64_decode('a'.'W5'.'fY'.'XJyYXk='),base64_decode('aW5f'.'YXJyYXk='),base64_decode(''.'ZGVm'.'aW'.'5lZ'.'A=='),base64_decode('ZGVmaW5lZA=='),base64_decode('ZGVmaW5'.'lZ'.'A=='),base64_decode('Zmls'.'Z'.'V9leGlzdH'.'M='),base64_decode(''.'Zm'.'lsZ'.'V'.'9leGlzdHM'.'='),base64_decode('ZmlsZV9leGlzdHM='),base64_decode('ZmlsZV9'.'leGl'.'z'.'dHM'.'='),base64_decode('ZX'.'hwb'.'G9kZ'.'Q=='));if(!function_exists(__NAMESPACE__.'\\___1235200016')){function ___1235200016($_581865014){static $_694880917= false; if($_694880917 == false) $_694880917=array(''.'L'.'2JpdHJ'.'peC9saW'.'NlbnN'.'lX2t'.'l'.'eS5waHA=','','',''.'R'.'EV'.'NTw'.'='.'=','REVNT'.'w==','QklUUklY','TEl'.'DR'.'U5DRQ==','REV'.'NTw==','L2tl'.'e'.'V91'.'cGRhdGUucGhwP'.'2xpY'.'2'.'Vu'.'c2V'.'fa2V5PQ==','J'.'nRvYmFza2V0'.'PXkmbGF'.'u'.'Zz0'.'=','c'.'nU=',''.'a3o=','Ynk=','aH'.'R'.'0'.'cHM6'.'Ly9'.'kZXYuMWMtYml0'.'cml4LnJ1L'.'2xlYXJua'.'W5nL2Nv'.'dXJ'.'zZS9pbmRleC5w'.'aHA/Q09'.'VUlNFX0lEPTEzN'.'SZMRVNTT05fSUQ9MjU3Mj'.'A=',''.'aHR'.'0'.'c'.'H'.'M'.'6'.'Ly'.'9'.'0cm'.'F'.'pbmluZy'.'5iaXRyaXgy'.'NC5jb2'.'0v'.'c3VwcG9y'.'dC90'.'cmFpbmluZy9jb3'.'Vyc'.'2UvaW'.'5k'.'ZXgucGh'.'wP0NPVVJTRV9J'.'RD0'.'xN'.'zgmTEVTU09OX0lEPTI1O'.'TMyJk'.'xFU1N'.'PT'.'l'.'9QQVRIPTE3NTIw'.'LjE3N'.'TYyL'.'jI1OTM'.'wLjI1OTMy','cnU=','Y'.'n'.'k=','a3o=','ZGU=','ZXU=','ZnI=','cGw=','aXQ=','dWs=','ZX'.'U=','Y'.'29t',''.'ZW'.'4=','R'.'EVNTw==','WQ==','VElNRUxJTUl'.'UX'.'0V'.'ESVRJT04=','WQ'.'='.'=','RU5D'.'T0'.'RF','WQ==','U2l0'.'ZUV4cG'.'lyZU'.'R'.'h'.'dGU=','bWF'.'pbg==',''.'fnN'.'1cHBvcnRf'.'ZmluaXN'.'o'.'X2R'.'hd'.'GU=','WS1tL'.'WQ=','WS1'.'tLWQ=','Yml0cml4MjQ'.'=','bW'.'Fpbg==','flBBU'.'kFNX0NMSU'.'VO'.'V'.'F'.'9MQU5'.'H','aW50cmFuZXQ=','ZW'.'4=',''.'cnU=','bW'.'Fpbg'.'==','d'.'mVuZG9'.'y',''.'dWFfYml'.'0'.'c'.'ml4X3BvcnRhbA='.'=','dWE=','Yml0cml4'.'X'.'3'.'BvcnRhbA='.'=','ZW4=','MW'.'Nf'.'Yml0c'.'ml4X'.'3Bv'.'cn'.'RhbA==','cnU'.'=','L2'.'J'.'pdHJpeC'.'9tb2'.'R1bGVzL21'.'h'.'aW4vbGFuZy91'.'YQ==',''.'dWE=','L2JpdHJ'.'peC9tb2R1'.'b'.'GVzL21haW4vbGFuZy9ie'.'Q'.'==','Y'.'nk=',''.'L2J'.'pdH'.'Jp'.'eC9tb2R1bG'.'VzL'.'21h'.'aW'.'4'.'v'.'bGFuZy9reg='.'=','a3o'.'=','L2'.'JpdH'.'J'.'pe'.'C9tb'.'2R1bGVzL21haW4'.'vbGFuZy9y'.'dQ'.'==',''.'c'.'nU'.'=','bWFp'.'bg='.'=','flBBU'.'kF'.'NX1B'.'BU'.'lRORVJfSU'.'Q=',''.'bWFpbg==','UEFSQU1fTU'.'FYX1'.'V'.'T'.'RVJT','bWFpbg==','fkNPVU'.'5U'.'X0VYV'.'F'.'JB','Tg'.'='.'=',''.'WQ==','Z'.'Xh'.'0cm'.'FuZ'.'XQ=','QU5EIFUuTEFTVF9MT0dJTiA+IA'.'='.'=','QU'.'5EIFUuTEF'.'TVF9'.'MT0d'.'JTiBJUyBOT1'.'QgTlV'.'MTA==',''.'aW50cmFuZXQ=','ZXh0'.'cmFuZXQ'.'=','ZXh0'.'c'.'m'.'FuZXRf'.'Z3Jvd'.'XA=',''.'bWFpbg='.'=','fm'.'xpY2Vu'.'c2Vf'.'b'.'mFtZQ==','bWF'.'pbg==','fmxp'.'Y2'.'Vuc2'.'VfY'.'29'.'kZXM=','',''.'LA==');return base64_decode($_694880917[$_581865014]);}}; use Bitrix\Main\Config\Option; use Bitrix\Main\Type\Date; final class License{ private?string $_1296685564= null; private const DOMAINS_STORE_LICENSE=[ 'ru' => 'https://util.1c-bitrix.ru', 'ua' => 'https://util.bitrix.ua', 'en' => 'https://util.bitrixsoft.com', 'kz' => 'https://util.1c-bitrix.kz', 'by' => 'https://util.1c-bitrix.by',]; public const URL_BUS_EULA=[ 'ru' => 'https://www.1c-bitrix.ru/download/law/eula_bus.pdf', 'by' => 'https://www.1c-bitrix.by/download/law/eula_bus.pdf', 'kz' => 'https://www.1c-bitrix.kz/download/law/eula_bus.pdf', 'ua' => 'https://www.bitrix.ua/download/law/eula_bus.pdf',]; public const URL_CP_EULA=[ 'ru' => 'https://www.1c-bitrix.ru/download/law/eula_cp.pdf', 'by' => 'https://www.1c-bitrix.by/download/law/eula_cp.pdf', 'kz' => 'https://www.1c-bitrix.kz/download/law/eula_cp.pdf', 'en' => 'https://www.bitrix24.com/eula/', 'br' => 'https://www.bitrix24.com.br/eula/', 'fr' => 'https://www.bitrix24.fr/eula/', 'pl' => 'https://www.bitrix24.pl/eula/', 'it' => 'https://www.bitrix24.it/eula/', 'la' => 'https://www.bitrix24.es/eula/',]; public const URL_RENEWAL_LICENSE=[ 'com' => 'https://store.bitrix24.com/profile/license-keys.php', 'eu' => 'https://store.bitrix24.eu/profile/license-keys.php', 'de' => 'https://store.bitrix24.de/profile/license-keys.php', 'ru' => 'https://www.1c-bitrix.ru/buy/products/b24.php#tab-section-2', 'by' => 'https://www.1c-bitrix.by/buy/products/b24.php#tab-section-2', 'kz' => 'https://www.1c-bitrix.kz/buy/products/b24.php#tab-section-2',]; public function getKey(): string{ if($this->_1296685564 === null){ $_2024946466= Loader::getDocumentRoot(). ___1235200016(0); $LICENSE_KEY= ___1235200016(1); if($GLOBALS['____1262938575'][0]($_2024946466)){ include($_2024946466);} $this->_1296685564=($LICENSE_KEY == ___1235200016(2) || $GLOBALS['____1262938575'][1]($LICENSE_KEY) == ___1235200016(3)? ___1235200016(4): $LICENSE_KEY);} return $this->_1296685564;} public function getHashLicenseKey(): string{ return $GLOBALS['____1262938575'][2]($this->getKey());} public function getPublicHashKey(): string{ return $GLOBALS['____1262938575'][3](___1235200016(5). $this->getKey(). ___1235200016(6));} public function isDemoKey(): bool{ return $this->getKey() == ___1235200016(7);} public function getBuyLink(): string{ return $this->getDomainStoreLicense(). ___1235200016(8). $this->getHashLicenseKey(). ___1235200016(9). LANGUAGE_ID;} public function getDocumentationLink(): string{ $_2023563494= $this->getRegion(); if($GLOBALS['____1262938575'][4]($_2023563494,[___1235200016(10), ___1235200016(11), ___1235200016(12)])){ return ___1235200016(13);} return ___1235200016(14);} public function getRenewalLink(): string{ $_2023563494= $this->getRegion(); if($GLOBALS['____1262938575'][5]($_2023563494,[___1235200016(15), ___1235200016(16), ___1235200016(17), ___1235200016(18)])){ return self::URL_RENEWAL_LICENSE[$_2023563494];} if($GLOBALS['____1262938575'][6]($_2023563494,[___1235200016(19), ___1235200016(20), ___1235200016(21), ___1235200016(22), ___1235200016(23)])){ return self::URL_RENEWAL_LICENSE[___1235200016(24)];} return self::URL_RENEWAL_LICENSE[___1235200016(25)];} public function getDomainStoreLicense(): string{ return self::DOMAINS_STORE_LICENSE[$this->getRegion()] ?? self::DOMAINS_STORE_LICENSE[___1235200016(26)];} public function isDemo(): bool{ return $GLOBALS['____1262938575'][7](___1235200016(27)) && DEMO === ___1235200016(28);} public function isTimeBound(): bool{ return $GLOBALS['____1262938575'][8](___1235200016(29)) && TIMELIMIT_EDITION === ___1235200016(30);} public function isEncoded(): bool{ return $GLOBALS['____1262938575'][9](___1235200016(31)) && ENCODE === ___1235200016(32);} public function getExpireDate():?Date{ $_1308106659= (int)($GLOBALS[___1235200016(33)] ??(234*2-468)); if($_1308106659>(155*2-310)){ return Date::createFromTimestamp($_1308106659);} return null;} public function getSupportExpireDate():?Date{ $_1308106659= Option::get(___1235200016(34), ___1235200016(35)); if(Date::isCorrect($_1308106659, ___1235200016(36))){ return new Date($_1308106659, ___1235200016(37));} return null;} public function getRegion():?string{ if(Loader::includeModule(___1235200016(38))){ return \CBitrix24::getPortalZone();} $_2023563494= Option::get(___1235200016(39), ___1235200016(40)); if(!empty($_2023563494)){ return $_2023563494;} $_2023563494= $this->__1918482094(); if(!empty($_2023563494)){ return $_2023563494;} return $this->__2036144784();} public function getEulaLink(): string{ if(ModuleManager::isModuleInstalled(___1235200016(41))){ return self::URL_CP_EULA[$this->getRegion()] ?? self::URL_CP_EULA[___1235200016(42)];} return self::URL_BUS_EULA[$this->getRegion()] ?? self::URL_BUS_EULA[___1235200016(43)];} private function __1918482094():?string{ $_173351680= Option::get(___1235200016(44), ___1235200016(45)); if($_173351680 === ___1235200016(46)){ return ___1235200016(47);} if($_173351680 === ___1235200016(48)){ return ___1235200016(49);} if($_173351680 === ___1235200016(50)){ return ___1235200016(51);} return null;} private function __2036144784():?string{ $_382705752= Application::getDocumentRoot(); if($GLOBALS['____1262938575'][10]($_382705752. ___1235200016(52))){ return ___1235200016(53);} if($GLOBALS['____1262938575'][11]($_382705752. ___1235200016(54))){ return ___1235200016(55);} if($GLOBALS['____1262938575'][12]($_382705752. ___1235200016(56))){ return ___1235200016(57);} if($GLOBALS['____1262938575'][13]($_382705752. ___1235200016(58))){ return ___1235200016(59);} return null;} public function getPartnerId(): int{ return (int)Option::get(___1235200016(60), ___1235200016(61),(141*2-282));} public function getMaxUsers(): int{ return (int)Option::get(___1235200016(62), ___1235200016(63), min(76,0,25.333333333333));} public function isExtraCountable(): bool{ return Option::get(___1235200016(64), ___1235200016(65), ___1235200016(66)) === ___1235200016(67) && ModuleManager::isModuleInstalled(___1235200016(68));} public function getActiveUsersCount(Date $_612617962= null): int{ $_116937073= Application::getConnection(); $_280662946=(167*2-334); if($_612617962 !== null){  $_1541545836= ___1235200016(69).$_116937073->getSqlHelper()->convertToDbDate($_612617962);} else{  $_1541545836= ___1235200016(70);} if(ModuleManager::isModuleInstalled(___1235200016(71))){ $_1277762873="
				SELECT COUNT(DISTINCT U.ID)
				FROM
					b_user U
					INNER JOIN b_user_field F ON F.ENTITY_ID = 'USER' AND F.FIELD_NAME = 'UF_DEPARTMENT'
					INNER JOIN b_utm_user UF ON
						UF.FIELD_ID = F.ID
						AND UF.VALUE_ID = U.ID
						AND UF.VALUE_INT > 0
				WHERE U.ACTIVE = 'Y'
					{$_1541545836}
			"; $_280662946= (int)$_116937073->queryScalar($_1277762873); $_395552710= (int)Option::get(___1235200016(72), ___1235200016(73)); if($_395552710>(808-2*404) && $this->isExtraCountable()){ $_1277762873="
						SELECT COUNT(1)
						FROM
							b_user U
							INNER JOIN b_extranet_user EU ON EU.USER_ID = U.ID AND EU.CHARGEABLE = 'Y'
							INNER JOIN b_user_group UG ON UG.USER_ID = U.ID AND UG.GROUP_ID = {$_395552710}
							LEFT JOIN (
								SELECT UF.VALUE_ID 
								FROM 
									b_user_field F
									INNER JOIN b_utm_user UF ON UF.FIELD_ID = F.ID AND UF.VALUE_INT > 0
								WHERE F.ENTITY_ID = 'USER' AND F.FIELD_NAME = 'UF_DEPARTMENT'
							) D ON D.VALUE_ID = U.ID
						WHERE U.ACTIVE = 'Y'
							{$_1541545836}
							AND D.VALUE_ID IS NULL
					"; $_280662946 += (int)$_116937073->queryScalar($_1277762873);}} return $_280662946;}  public function getName(): string{ return Option::get(___1235200016(74), ___1235200016(75));}  public function getCodes(): array{ $_1648048519= Option::get(___1235200016(76), ___1235200016(77)); if($_1648048519 != ___1235200016(78)){ return $GLOBALS['____1262938575'][14](___1235200016(79), $_1648048519);} return[];}}?>